{"version":3,"sources":["train/train.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAUA;gBAMC,wBAAoB,YAA0B;oBAA1B,iBAAY,GAAZ,YAAY,CAAc;oBAJvC,YAAO,GAAS,CAAC,CAAC;oBAClB,gBAAW,GAAS,CAAC,CAAC;gBAK7B,CAAC;gBAED,iCAAQ,GAAR;oBACC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACnC,CAAC;gBAED,mCAAU,GAAV,UAAW,IAAY;oBAAvB,iBAeC;oBAdA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;wBACpD,EAAE,CAAC,CAAC,IAAI,CAAC,CACT,CAAC;4BACA,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;4BAC3B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;4BACvC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;4BAE/B,IAAI,KAAK,GAAa,EAAE,CAAC;4BACzB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,KAAI,CAAC,OAAO,EAAE,CAAC,EAAE,EAAC,CAAC;gCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BAClB,CAAC;4BACD,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBAC1B,CAAC;oBACF,CAAC,CAAC,CAAC;gBACJ,CAAC;gBAED,6BAAI,GAAJ;oBACC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC,CAAA,CAAC;wBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;wBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACnC,CAAC;gBACF,CAAC;gBAED,mCAAU,GAAV,UAAW,IAAI;oBACd,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,CAAA,CAAC;wBAC7B,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC;wBACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACnC,CAAC;gBACF,CAAC;gBAED,6BAAI,GAAJ;oBACC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,CAAA,CAAC;wBACpC,IAAI,CAAC,WAAW,EAAE,CAAC;wBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACnC,CAAC;gBACF,CAAC;gBAED,oCAAW,GAAX,UAAY,EAAU;oBAAtB,iBAiBC;oBAhBA,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;wBAC/C,MAAM,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;wBAWhC,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;oBACnC,CAAC,EAAE,UAAA,MAAM;wBACR,MAAM,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;oBACvC,CAAC,CAAC,CAAC;gBACJ,CAAC;gBAED,+BAAM,GAAN,UAAO,EAAU,EAAE,IAAY;oBAC9B,IAAI,IAAI,GAAG,IAAI,CAAC;oBACf,MAAM,CAAC,OAAO,CAAC;wBACZ,KAAK,EAAE,WAAW;wBAClB,OAAO,EAAE,kBAAkB,GAAC,IAAI,GAAC,iCAAiC;wBAClE,OAAO,EAAE;4BACL,OAAO,EAAE;gCACR,QAAQ,EAAE,YAAY;gCACtB,IAAI,EAAE,KAAK;gCACX,MAAM,EAAE;oCACP,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gCACtB,CAAC;6BACD;4BACD,MAAM,EAAE;gCACP,IAAI,EAAE,QAAQ;gCACd,QAAQ,EAAE,WAAW;gCACrB,MAAM,EAAE;gCAER,CAAC;6BACD;yBACJ;qBACJ,CAAC,CAAC;gBACJ,CAAC;gBAnGF;oBAAC,gBAAS,CAAC;wBACV,QAAQ,EAAE,iBAAiB;wBAC3B,WAAW,EAAE,sCAAsC;wBACnD,SAAS,EAAE,CAAC,4BAAY,CAAC;qBACzB,CAAC;;kCAAA;gBAgGF,qBAAC;YAAD,CA9FA,AA8FC,IAAA;YA9FD,2CA8FC,CAAA","file":"train/train.component.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { TrainService } from \"../service/train.service\";\ndeclare var jQuery: any;\n\n@Component({\n\tselector: \"train-component\",\n\ttemplateUrl: \"template/trains/train.component.html\",\n\tproviders: [TrainService]\n})\n\nexport class TrainComponent implements OnInit{\n\tpublic trains: any[];\n\tpublic sumpage: number=1;\n\tpublic currentpage: number=1;\n\tpublic sumpage_arr: any[];\n\n\tconstructor(private trainservice: TrainService){\n\n\t}\n\n\tngOnInit(){\n\t\tthis.renderPage(this.currentpage);\n\t}\n\n\trenderPage(page: number){\n\t\tthis.trainservice.GetListPerpage(page).subscribe(data=>{\n\t\t\tif (data)\n\t\t\t{\n\t\t\t\tthis.trains = data['data'];\n\t\t\t\tthis.currentpage = data['currentpage'];\n\t\t\t\tthis.sumpage = data['sumpage'];\n\n\t\t\t\tvar items: number[] = [];\n\t\t\t\tfor(var i = 1; i <= this.sumpage; i++){\n\t\t\t\t    items.push(i);\n\t\t\t\t}\n\t\t\t\tthis.sumpage_arr = items;\n\t\t\t}\n\t\t});\n\t}\n\n\tprev(){\n\t\tif (this.currentpage>1){\n\t\t\tthis.currentpage--;\n\t\t\tthis.renderPage(this.currentpage);\n\t\t}\n\t}\n\n\tselectpage(page){\n\t\tif (this.currentpage != page){\n\t\t\tthis.currentpage=page;\n\t\t\tthis.renderPage(this.currentpage);\n\t\t}\n\t}\n\n\tnext(){\n\t\tif (this.currentpage < this.sumpage){\n\t\t\tthis.currentpage++;\n\t\t\tthis.renderPage(this.currentpage);\n\t\t}\n\t}\n\n\tdeleteTrain(id: number){\n\t\tthis.trainservice.DeleteTrain(id).subscribe(data=>{\n\t\t\tjQuery.alert('Xoá thành công!');\n \t\t// \tlet index = -1;\n\t \t// \tfor (let i=0; i < this.trains.length; i++){\n\t \t// \t\tif (this.trains[i].id == id){\n\t \t// \t\t\tindex = i;\n\t \t// \t\t\tbreak;\n\t \t// \t\t}\n\t \t// \t}\n\t\t\t// if (index > -1) {\n\t\t\t//    this.trains.splice(index, 1);\n\t\t\t// }\t\n\t\t\tthis.renderPage(this.currentpage);\n\t\t}, errors=>{\n\t\t\tjQuery.alert('Xoá không thành công!');\n\t\t});\n\t}\n\n\tdelete(id: number, name: string){\n\t\tvar self = this;\n \t\tjQuery.confirm({\n\t\t    title: 'Xác nhận!',\n\t\t    content: 'Bạn có muốn xoá '+name+' và các lịch trình của tàu này?',\n\t\t    buttons: {\n\t\t        confirm: {\n\t\t        \tbtnClass: 'btn-danger',\n\t\t        \ttext: \"Xoá\",\n\t\t        \taction: function(){\n\t\t        \t\tself.deleteTrain(id);\n\t\t        \t}\n\t\t        },\n\t\t        cancel: {\n\t\t        \ttext: \"Hủy bỏ\",\n\t\t        \tbtnClass: 'btn-green',\n\t\t        \taction: function(){\n\t\t        \t\t// $.alert('Cancel!');\n\t\t        \t}\n\t\t        }\n\t\t    }\n\t\t});\n\t}\n}"],"sourceRoot":"/source/"}