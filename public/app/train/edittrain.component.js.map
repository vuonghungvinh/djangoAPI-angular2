{"version":3,"sources":["train/edittrain.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAcA;gBAKC,4BAAoB,MAAc,EACzB,eAA+B,EAC/B,YAA0B,EAC1B,KAAoB,EACpB,YAA0B,EAC1B,MAAkB;oBALP,WAAM,GAAN,MAAM,CAAQ;oBACzB,oBAAe,GAAf,eAAe,CAAgB;oBAC/B,iBAAY,GAAZ,YAAY,CAAc;oBAC1B,UAAK,GAAL,KAAK,CAAe;oBACpB,iBAAY,GAAZ,YAAY,CAAc;oBAC1B,WAAM,GAAN,MAAM,CAAY;gBAAE,CAAC;gBAE9B,qCAAQ,GAAR;oBAAA,iBAQC;oBAPA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,MAAM;wBAC/D,KAAI,CAAC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;oBACzB,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;wBACxD,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBACnB,CAAC,CAAC,CAAC;gBACJ,CAAC;gBAED,mCAAM,GAAN;oBAAA,iBAYC;oBAXA,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;wBACtE,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;wBAC5D,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACnC,CAAC,EAAE,UAAA,MAAM;wBACR,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;wBACnC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,CAAC;4BACb,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;4BACvC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;wBACzD,CAAC;oBACF,CAAC,CAAC,CAAC;gBACJ,CAAC;gBAED,wCAAW,GAAX;oBACC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;gBACjC,CAAC;gBA5CF;oBAAC,gBAAS,CAAC;wBACV,QAAQ,EAAE,qBAAqB;wBAC/B,WAAW,EAAE,0CAA0C;wBACvD,SAAS,EAAE,CAAC,4BAAY,CAAC;qBACzB,CAAC;;sCAAA;gBAyCF,yBAAC;YAAD,CAvCA,AAuCC,IAAA;YAvCD,mDAuCC,CAAA","file":"train/edittrain.component.js","sourcesContent":["import { Component, OnInit, OnDestroy, ElementRef } from \"@angular/core\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { Subscription } from \"rxjs\";\nimport { AlertService } from \"../service/alert.service\";\nimport { TrainService } from \"../service/train.service\";\nimport { ToastsManager } from 'ng2-toastr/ng2-toastr';\ndeclare var jQuery: any;\n\n@Component({\n\tselector: \"edittrain-component\",\n\ttemplateUrl: \"template/trains/edittrain.component.html\",\n\tproviders: [TrainService]\n})\n\nexport class EditTrainComponent implements OnInit, OnDestroy{\n\tprivate _id: number;\n\tprivate train: any;\n\tprivate subscription: any;\n\n\tconstructor(private router: Router,\n\t\tprivate activatedRouter: ActivatedRoute,\n\t\tprivate alertService: AlertService,\n\t\tprivate toast: ToastsManager,\n\t\tprivate trainService: TrainService,\n\t\tprivate _elRef: ElementRef){}\n\n\tngOnInit(){\n\t\tthis.subscription = this.activatedRouter.params.subscribe(params=>{\n\t\t\tthis._id = params['id'];\n\t\t});\n\n\t\tthis.trainService.GetDetailTrain(this._id).subscribe(data=>{\n\t\t\tthis.train = data;\n\t\t});\n\t}\n\n\tupdate(){\n\t\tvar self = this;\n\t\tthis.trainService.UpdateTrain(this.train.id, this.train).subscribe(data=>{\n\t\t\tthis.alertService.success(\"Cập nhật tàu thành công.\", true);\n\t\t\tthis.router.navigate(['/trains']);\n\t\t}, errors=>{\n\t\t\tlet err = JSON.parse(errors._body);\n\t\t\tif (err.name){\n\t\t\t\tthis.toast.error(err.name[0], \"Oops!\");\n\t\t\t\tjQuery(self._elRef.nativeElement).find(\"#name\").focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnDestroy(){\n\t\tthis.subscription.unsubscribe();\n\t}\n}"],"sourceRoot":"/source/"}